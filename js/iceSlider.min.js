/*
Ice Slider v2
*/
"use strict";var iceSlider={pageWidth:window.innerWidth||document.documentElement.clientWidth,initialized:!1,init:function(){iceSlider.initialized=!0,$(window).resize(function(){iceSlider.pageWidth=window.innerWidth||document.documentElement.clientWidth})},hammerSlider:function(e){var t=this;this.dots=void 0!==e.dots?e.dots:!1,this.dotActiveClass=void 0!==e.dotActiveClass?e.dotActiveClass:"hammer-currentDot",this.oneItemDotHide=void 0!==e.oneItemDotHide?e.oneItemDotHide:!0,this.wrapper=void 0!==e.wrapper?e.wrapper:!1,this.container=void 0!==e.container?e.container:!1,this.item=void 0!==e.item?e.item:!1,this.itemSize=void 0!==e.itemSize?e.itemSize:100,this.centerItem=void 0!==e.centerItem?e.centerItem:!1,this.itemActiveClass=void 0!==e.itemActiveClass?e.itemActiveClass:"hammer-currentItem",this.desktop=void 0!==e.desktop?e.desktop:!0,this.touchEvents=void 0!==e.touchEvents?e.touchEvents:!0,this.dragThreshold=void 0!==e.dragThreshold?e.dragThreshold:35,this.leftArrow=void 0!==e.leftArrow?e.leftArrow:!1,this.rightArrow=void 0!==e.rightArrow?e.rightArrow:!1,this.arrowInactiveClass=void 0!==e.arrowInactiveClass?e.arrowInactiveClass:"hammer-arrowInactive",this.autoSlide=void 0!==e.autoSlide?e.autoSlide:!1,this.autoSlideInterruption=void 0!==e.autoSlideInterruption?e.autoSlideInterruption:!0,this.setTime=void 0!==e.setTime?e.setTime:"8000",this.animation=void 0!==e.animation?e.animation:"auto",this.animationClass=void 0!==e.animationClass?e.animationClass:"hammer-animate",this.debug=void 0!==e.debug?e.debug:!1,this.onInitCallback=void 0!==e.onInitCallback?e.onInitCallback:!1,this.onUpdateCallback=void 0!==e.onUpdateCallback?e.onUpdateCallback:!1,this.onResizeCallback=void 0!==e.onResizeCallback?e.onResizeCallback:!1,this.internal={itemQuery:null,containerQuery:null,wrapperQuery:null,wrapperPxSize:0,itemWidth:0,itemWidthPercent:0,itemPxWidth:0,itemCount:0,interaction:!1,currentItem:0,autoRun:null,isDesktop:null,updateInQueue:!1,mouseover:!1,swipped:!1},iceSlider.initialized===!1&&iceSlider.init(),this.init=function(){t.wrapper===!1||t.container===!1?this.error(1):(t.internal.itemQuery=$("> ."+t.item,"#"+t.wrapper+" #"+t.container),t.internal.itemCount=t.internal.itemQuery.length,t.internal.wrapperQuery=$("#"+t.wrapper),t.internal.containerQuery=$("#"+t.container),t.internal.wrapperQuery.addClass("hammer-set"),t.internal.wrapperPxSize=t.internal.wrapperQuery.width(),t.internal.itemQuery.first().addClass(t.itemActiveClass),Modernizr.csstransitions===!1&&(t.animation="js"),t.dots&&(t.dots=$("#"+t.dots),1===t.internal.itemCount&&t.oneItemDotHide===!0&&t.dots.css("visibility","hidden"),t.addDots(),t.dots.on("click","a",function(e){e.preventDefault();var n=$(this).attr("index");t.internal.interaction=!0,t.showPane(n-1)})),t.desktop||iceSlider.pageWidth<768?!t.desktop&&iceSlider.pageWidth<768?(t.internal.isDesktop=!1,t.widthController()):t.widthController():t.internal.isDesktop=!0,$(window).on("load resize orientationchange",function(){t.internal.updateInQueue&&!t.desktop&&iceSlider.pageWidth<768?(t.internal.updateInQueue=!1,t.update()):t.widthController()}),t.autoSlide&&(t.internal.autoRun=setInterval(function(){t.rotate()},t.setTime),t.internal.wrapperQuery.mouseover(function(){clearInterval(t.internal.autoRun)}).mouseout(function(){clearInterval(t.internal.autoRun),t.internal.autoRun=setInterval(function(){t.rotate()},t.setTime)})),t.leftArrow&&(t.leftArrow=$("#"+t.leftArrow),t.leftArrow.addClass(t.arrowInactiveClass),t.leftArrow.click(function(e){e.preventDefault(),t.internal.interaction=!0,t.prev()})),t.rightArrow&&(t.rightArrow=$("#"+t.rightArrow),t.internal.currentItem+1===t.internal.itemCount&&t.rightArrow.addClass(t.arrowInactiveClass),t.rightArrow.click(function(e){e.preventDefault(),t.internal.interaction=!0,t.next()})),(t.desktop||!t.desktop&&iceSlider.pageWidth<768)&&t.showPane(0,!0),t.hammerHolder=new Hammer(document.getElementById(t.wrapper)).on("panleft panright panend swipeleft swiperight",t.handleHammer),t.onInitCallback&&t.onInitCallback())},this.handleHammer=function(e){if(console.log(e.type),console.log(e),"panend"!==e.type&&e.preventDefault(),(!t.desktop&&iceSlider.pageWidth<768||t.desktop)&&t.touchEvents)switch(t.internal.wrapperQuery.scrollLeft(0),e.type){case"panright":case"panleft":if(t.internal.interaction=!0,e.isFinal!==!0){var n,i,r;n=e.deltaX,i=-(100/t.internal.itemCount)*t.internal.currentItem,r=100/t.internal.itemPxWidth*n/t.internal.itemCount,(0===t.internal.currentItem&&4===e.direction||t.internal.currentItem===t.internal.itemCount-1&&2===e.direction)&&(r*=.3),t.setContainerOffset(r+i,!1)}break;case"swipeleft":t.internal.swipped=!0,t.next();break;case"swiperight":t.internal.swipped=!0,t.prev();break;case"panend":if(t.internal.swipped!==!0)if(Math.abs(e.deltaX)>t.internal.itemPxWidth*(t.dragThreshold/100))switch(e.direction){case 4:0!==t.internal.currentItem?t.prev():t.showPane(t.internal.currentItem);break;case 2:t.internal.currentItem!==t.internal.itemCount-1?t.next():t.showPane(t.internal.currentItem)}else t.showPane(t.internal.currentItem);else t.internal.swipped=!1}},this.next=function(){return t.showPane(t.internal.currentItem+1)},this.prev=function(){return t.showPane(t.internal.currentItem-1)},this.showPane=function(e,n){var i;e=Math.max(0,Math.min(e,t.internal.itemCount-1)),t.internal.currentItem=e,t.internal.itemQuery.removeClass(t.itemActiveClass),t.internal.containerQuery.children("."+t.item+":nth-child("+(t.internal.currentItem+1)+")").addClass(t.itemActiveClass),t.dots&&(t.dots.children("a").removeClass(t.dotActiveClass),t.dots.children("a:nth-child("+(t.internal.currentItem+1)+")").addClass(t.dotActiveClass)),t.leftArrow&&0===t.internal.currentItem?t.leftArrow.addClass(t.arrowInactiveClass):t.leftArrow&&t.leftArrow.removeClass(t.arrowInactiveClass),t.rightArrow&&t.internal.currentItem===t.internal.itemCount-1?t.rightArrow.addClass(t.arrowInactiveClass):t.rightArrow&&t.rightArrow.removeClass(t.arrowInactiveClass),i=-(100/t.internal.itemCount*t.internal.currentItem),t.itemSize<100&&!t.centerItem?t.internal.currentItem===t.internal.itemCount-1?i+=(100-t.itemSize)/(2-(100-t.itemSize)/100*2)/t.internal.itemCount*2:t.internal.currentItem>0&&(i+=(100-t.itemSize)/(2-(100-t.itemSize)/100*2)/t.internal.itemCount):t.itemSize<100&&t.centerItem&&(i+=(100-t.itemSize)/(2-(100-t.itemSize)/100*2)/t.internal.itemCount),void 0===n?t.setContainerOffset(i,!0):t.setContainerOffset(i,!1)},this.rotate=function(){(t.internal.interaction===!1||t.internal.interaction===!0&&t.autoSlideInterruption===!1)&&t.showPane(t.internal.currentItem+1!==t.internal.itemCount?t.internal.currentItem+1:0)},this.widthController=function(){t.desktop||iceSlider.pageWidth<768||t.internal.isDesktop!==!1?!t.desktop&&iceSlider.pageWidth<768&&t.internal.isDesktop===!0?(t.internal.isDesktop=!1,t.autoSlide&&(clearInterval(t.internal.autoRun),t.internal.autoRun=setInterval(function(){t.rotate()},t.setTime)),t.adjustWidth(),t.showPane(t.internal.currentItem,!0)):(t.desktop||!t.internal.isDesktop)&&t.adjustWidth():(t.internal.isDesktop=!0,t.autoSlide&&clearInterval(t.internal.autoRun),t.setContainerOffset(0,!1),t.internal.itemQuery.each(function(){$(this).attr("style","")}),t.internal.containerQuery.attr("style",""))},this.adjustWidth=function(){t.internal.wrapperPxSize=t.internal.wrapperQuery.width(),t.internal.itemPxWidth=t.internal.wrapperPxSize*(t.itemSize/100),t.internal.itemQuery.each(function(){$(this).width(t.internal.itemPxWidth)}),t.internal.containerQuery.width(t.internal.itemPxWidth*t.internal.itemCount),t.onResizeCallback&&t.onResizeCallback()},this.setContainerOffset=function(e,n){if(t.internal.containerQuery.removeClass(t.animationClass),n&&t.internal.containerQuery.addClass(t.animationClass),Modernizr.csstransforms3d&&"auto"===t.animation||Modernizr.csstransforms3d&&"CSS"===t.animation)t.internal.containerQuery.css("transform","translate3d("+e+"%,0,0) scale3d(1,1,1)");else if(Modernizr.csstransforms&&"auto"===t.animation||Modernizr.csstransforms&&"CSS"===t.animation)t.internal.containerQuery.css("transform","translate("+e+"%,0)");else{var i=t.internal.itemPxWidth*t.internal.itemCount/100*e;n?t.internal.containerQuery.dequeue(!0).animate({left:i+"px"},300):t.internal.containerQuery.css("left",i+"px")}},this.addDots=function(){var e,n,i;for(e=document.createElement("a"),n=document.createElement("span"),e.setAttribute("href","#"),e.appendChild(n),e=$(e),t.dots.html(""),i=1;i<=t.internal.itemCount;i++)t.dots.append(i===t.internal.currentItem+1?e.attr("index",i).clone().addClass(t.dotActiveClass):e.attr("index",i).clone())},this.update=function(){!t.desktop&&iceSlider.pageWidth<768?(t.internal.itemQuery=$("> ."+t.item,"#"+t.wrapper+" #"+t.container),t.internal.itemCount=t.internal.itemQuery.length,t.internal.itemQuery.each(function(e){$(this).hasClass(t.itemActiveClass)&&(t.internal.currentItem=e)}),t.dots&&(1===t.internal.itemCount&&t.oneItemDotHide===!0?t.dots.css("visibility","hidden"):t.internal.itemCount>1&&t.oneItemDotHide===!0&&t.dots.css("visibility","visible"),t.addDots()),t.widthController(),t.leftArrow&&0===t.internal.currentItem?t.leftArrow.addClass(t.arrowInactiveClass):t.leftArrow.removeClass(t.arrowInactiveClass),t.leftArrow&&t.internal.currentItem+1===t.internal.itemCount?t.rightArrow.addClass(t.arrowInactiveClass):t.rightArrow.removeClass(t.arrowInactiveClass),t.showPane(t.internal.currentItem,!0),t.onUpdateCallback&&t.onUpdateCallback()):t.internal.updateInQueue=!0},this.error=function(e){if(t.debug)switch(e){case 1:console.log("Please specify the wrapper and container ID");break;case 2:console.log("Wrapper and container needs to be an ID");break;case 3:console.log("Dots needs to be an ID");break;default:console.log("Unknown error")}}}};